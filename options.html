<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Tab Settings</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="options">
    <div id="notification" class="hidden"></div>

    <div id="back">
        <span id="back-link">←</span>
    </div>
    <div id="options-wrapper">
        <div class="options-sidebar">
            <h1>Settings</h1>
            <nav>
                <a href="#general" class="active">General</a>
                <a href="#shortcuts">Shortcuts</a>
                <a href="#appearance">Appearance</a>
                <a href="#sidebar-settings">Sidebar</a>
            </nav>
        </div>
        <div class="options-content">
            <div id="general" class="options-panel active">
                <h2>General Components</h2>
                <label class="checkbox-label"><input type="checkbox" id="show-clock"><span class="custom-checkbox"></span> Show Clock</label>
                <label class="checkbox-label"><input type="checkbox" id="show-weather"><span class="custom-checkbox"></span> Show Weather</label>
                <div id="weather-options" class="sub-settings">
                    <label class="checkbox-label"><input type="checkbox" id="use-custom-city"><span class="custom-checkbox"></span> Use a custom location</label>
                    <div id="custom-city-container" style="display: none;">
                        <label for="custom-city">Custom City</label>
                        <div id="city-search-container">
                            <input type="text" id="custom-city" name="custom-city" placeholder="Search for a city..." autocomplete="off">
                            <div id="city-suggestions"></div>
                        </div>
                    </div>
                    <div class="setting-row segmented-control-container">
                        <label>Temperature Unit:</label>
                        <div class="segmented-control">
                            <label><input type="radio" name="temp-unit" value="celsius"><span>°C</span></label>
                            <label><input type="radio" name="temp-unit" value="fahrenheit"><span>°F</span></label>
                        </div>
                    </div>
                </div>
                <label class="checkbox-label"><input type="checkbox" id="show-bookmarks"><span class="custom-checkbox"></span> Show Bookmarks</label>
                <span id="bookmark-folder-selector-span" class="sub-settings">
                    <label for="bookmark-folders">Select Bookmark folder: </label>
                    <select id="bookmark-folders" name="bookmark-folders">
                    </select>
                </span>
            </div>

            <div id="shortcuts" class="options-panel">
                <h2>Shortcuts</h2>
                <label class="checkbox-label"><input type="checkbox" id="show-topRight"><span class="custom-checkbox"></span>Show Top-Right Shortcuts</label>
                <div id="shortcuts-links" class="sub-settings">
                    <p>Customize which shortcut links are displayed and in what order.</p>
                    <table class="options-table" id="top-right-links">
                        <thead>
                            <tr>
                                <th>Show</th>
                                <th>Link</th>
                                <th class="drag-handle-header">Order</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Rows are dynamically generated by options.js -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="appearance" class="options-panel">
                <h2>Appearance</h2>
                <div class="setting-row segmented-control-container">
                    <label>Theme:</label>
                    <div class="segmented-control">
                        <label><input type="radio" name="theme" value="system"><span>System</span></label>
                        <label><input type="radio" name="theme" value="dark"><span>Dark</span></label>
                        <label><input type="radio" name="theme" value="light"><span>Light</span></label>
                    </div>
                </div>

                <div class="setting-row">
                    <label for="background-image-input">Custom Background Image:</label>
                    <div class="background-image-controls">
                        <label for="background-image-input" id="background-add-label" class="background-add-label">
                            <div id="background-preview-container" class="background-preview-container">
                                <span class="plus-icon">+</span>
                            </div>
                        </label>
                        <div id="image-present-container" class="background-preview-container hidden">
                            <img id="background-preview" src="#" alt="Background preview" class="hidden">
                            <button id="clear-background-image" class="clear-background-button hidden">&times;</button>
                        </div>
                        <input type="file" id="background-image-input" class="visually-hidden" accept="image/*">
                    </div>
                </div>

                <label class="checkbox-label"><input type="checkbox" id="show-pixelArt"><span class="custom-checkbox"></span>Show Background Pixel Art</label>
                <div id="pixel-art-select-div" class="sub-settings">
                    <label for="pixel-art-select">Select Pixel Art: </label>
                    <select id="pixel-art-select" name="pixel-art-select">
                        <option value="flowers">Flowers</option>
                        <option value="hearts">Hearts</option>
                        <option value="stars">Stars</option>
                        <option value="kitty">Kitty</option>
                        <option value="leaves">Leaves</option>
                        <option value="custom">Custom</option>
                    </select>
                    <br>
                    <div id="custom-svg-input-div">
                        <label for="custom-svg-input">Custom SVG</label><br>
                        <textarea id="custom-svg-input" name="custom-svg-input" rows="4" cols="50"
                            placeholder="Paste your SVG code here..."></textarea>
                        <br>
                        <ul style="text-align: left; margin-top: 0.5em;">
                            <li>For best results:
                                <ul>
                                    <li>The SVG should have a `viewBox="0 0 512 512"` attribute.</li>
                                    <li>Remove any `fill` attributes from the SVG paths to allow the extension's theme colors to apply.</li>
                                </ul>
                            </li>
                            <li>You can use online tools to create or convert images to SVG code:
                                <ul>
                                    <li><a href="https://svgco.de/" target="_blank" rel="noopener">SVGcode</a> - Convert raster images (PNG, JPG) to SVG.</li>
                                    <li><a href="https://nikitahl.github.io/svg-2-code/" target="_blank" rel="noopener">SVG-2-Code</a> - Optimize and get code from an SVG file.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="setting-row">
                        <label for="pixelArtOpacity">Pixel Art Opacity</label>
                        <input type="range" id="pixelArtOpacity" min="0" max="100" step="1">
                    </div>
                    <div class="setting-row">
                        <label for="pixelArtDensity">Pixel Art Density</label>
                        <input type="range" id="pixelArtDensity" min="0" max="100" step="1">
                    </div>
                    <div class="setting-row"><label>Pixel Art Color (Dark Theme)<input type="color" id="pixelArtColorDark"></label></div>
                    <div class="setting-row"><label>Pixel Art Color (Light Theme)<input type="color" id="pixelArtColorLight"></label></div>
                </div>
            </div>

            <div id="sidebar-settings" class="options-panel">
                <h2>Sidebar</h2>
                <label class="checkbox-label"><input type="checkbox" id="show-sidebar"><span class="custom-checkbox"></span> Show Sidebar</label>
                <div id="sidebar-options" class="sub-settings">
                    <div class="setting-row segmented-control-container">
                        <label>Sidebar Position:</label>
                        <div class="segmented-control">
                            <label><input type="radio" name="sidebar-position" value="left"><span>Left</span></label>
                            <label><input type="radio" name="sidebar-position" value="right"><span>Right</span></label>
                        </div>
                    </div>
                    <div class="sub-settings">
                        <label>Widgets (drag to reorder):</label>
                        <table class="options-table" id="sidebar-widgets-table">
                            <thead>
                                <tr>
                                    <th>Show</th>
                                    <th>Widget</th>
                                    <th class="drag-handle-header">Order</th>
                                </tr>
                            </thead>
                            <tbody id="sidebar-widgets" class="reorder-list"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button id="save">Save Settings</button>
                <button id="restore-defaults">Restore Defaults</button>
            </div>
        </div>
    </div>

    <script src="options.js"></script>
</body>

</html>